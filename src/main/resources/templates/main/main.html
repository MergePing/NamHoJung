<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ë‚¨í˜¸ì •</title>
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" th:href="@{/css/mainpage/mainpage-darkmode.css}">
    <link rel="stylesheet" th:href="@{/css/mypage/mypage.css}">
    <!--    <link rel="stylesheet" th:href="@{/css/mainpage/mainpage-lightmode.css}">-->
    <style>
        /* ì†ì „ë“± */
        /*:root {*/
        /*    --cursorX: 70vw;*/
        /*    --cursorY: 70vh;*/
        /*}*/
        /*:root:before {*/
        /*    content: '';*/
        /*    display: block;*/
        /*    width: 100%;*/
        /*    height: 100%;*/
        /*    position: fixed;*/
        /*    pointer-events: none;*/
        /*    z-index: 999999;*/
        /*    background: radial-gradient(*/
        /*            circle 15vmax at var(--cursorX) var(--cursorY),*/
        /*            rgba(0,0,0,0) 0%,*/
        /*            rgba(0,0,0,.5) 80%,*/
        /*            rgba(0,0,0,.95) 100%)*/
        /*}*/

        /** {*/
        /*    box-sizing: border-box;*/
        /*    text-rendering: optimizeLegibility;*/
        /*    -webkit-font-smoothing: antialiased;*/
        /*    -moz-osx-font-smoothing: grayscale;*/
        /*    font-kerning: auto;*/
        /*}*/

        .multiline-ellipsis {
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 4; /* ì›í•˜ëŠ” ì¤„ ìˆ˜ */
            overflow: hidden;
        }

        .ellipsis {
            white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
        }

    </style>
</head>
<body>

<header>

    <nav>
        <!--ë„¤ë¹„ë°”-->
        <img th:src="@{/images/main/nav-logo-dark.png}" alt="ìƒë‹¨ ë¡œê³ " onclick="window.location.href='/'">
        <span onclick="location.href='/intro'">ì†Œê°œ</span>
        <span onclick="location.href='/notice'">ê³µì§€ì‚¬í•­</span>
        <span onclick="location.href='/post'">ê²Œì‹œíŒ</span>
        <span>MBTI ê²€ì‚¬</span>
        <span id="mypageBtn">ë§ˆì´í˜ì´ì§€</span>
        <span>ë¡œê·¸ì¸</span>
        <span>íšŒì›ê°€ì…</span>
    </nav>

</header>

<!--<aside id="myPageAside">-->
<!--    <p class="mypagefont">ë§ˆì´í˜ì´ì§€</p>-->
<!--    <img th:src="@{/images/mypageimages/profile.png}" alt="í”„ë¡œí•„ ì‚¬ì§„" class="profile-photo" id="profilePhoto">-->
<!--    <p id="nickname" class="nicknamefont">ë‹‰ë„¤ì„ : <span th:text="${myPageDTO.userName}"></span></p>-->
<!--    <p id="rank" class="rankfont">ë“±ê¸‰: <img th:src="@{/images/mypageimages/rank-1.png}" alt="ë­í¬" class="rank-photo" id="rankPhoto"></p>-->
<!--    <p class="infofont" id="info">ê°œì¸ ì •ë³´</p>-->
<!--    <p class="activefont" id="active">í™œë™ ê¸°ë¡</p>-->
<!--    <p class="MBTIfont" id="mbtiButton">MBTI</p>-->
<!--    <div id="mbtiContent" style="display: none;">-->
<!--        <div id="myMBTI" class="mbti-item">-->
<!--            &#45;&#45; ë‚˜ì˜ MBTI-->
<!--        </div>-->
<!--        <div class="mbti-item2">&#45;&#45; MBTI ê²€ì‚¬</div>-->
<!--    </div>-->
<!--    <p class="logoutfont">ë¡œê·¸ì•„ì›ƒ</p>-->
<!--</aside>-->
<!--<div class="rankpopup" id="rank-popup">-->
<!--    <p class="scorefont">í™œë™ ì ìˆ˜ : </p>-->
<!--    <p class="nextfont">ë‹¤ìŒ ë“±ê¸‰ : </p>-->
<!--    <p class="needfont">í•„ìš” ì ìˆ˜ : </p>-->
<!--</div>-->

<!--<div class="modal-background" id="modal-background">-->
<!--    <div class="pwdpopup" id="pwd-popup">-->
<!--        <p class="pwdfont">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ë³¸ì¸ì„ì„ í™•ì¸í•´ ì£¼ì„¸ìš”!</p>-->
<!--        <div class="pwd-container">-->
<!--            <span class="pwdfont2">ë¹„ë°€ë²ˆí˜¸</span> <input type="password" id="pwdInput" placeholder="ë¹„ë°€ë²ˆí˜¸">-->
<!--            <span class="toggle-password" id="togglePassword">&#128065;</span>-->
<!--        </div>-->

<!--        <div class="popup-buttons">-->
<!--            <button id="closePopupBtn" class="cancle-btn">ì·¨ì†Œ</button>-->
<!--            <button id="submitPasswordBtn" class="confirm-btn">í™•ì¸</button>-->
<!--        </div>-->

<!--    </div>-->
<!--</div>-->
<!--<div class="mbtipopup" id="mbtiPopup">-->
<!--    <p class="horrormbti">ë‚˜ì˜ ê³µí¬ MBTI</p>-->
<!--    <p class="mbticategory">CGET</p>-->
<!--    <div class="mbtiexp">-->
<!--        <p class="mtbtiexp2">ë‹¹ì‹ ì€ ìœ„í—˜í•œ ìˆœê°„ì— ì‹ ì¤‘í•˜ì§€ë§Œ-->
<!--            ì‚¬ëŒë³´ë‹¤ ê·€ì‹ ì„ ë¬´ì„œì›Œí•˜ë©´ì„œë„-->
<!--            ê³µí¬ì˜ ìŠ¤ë¦´ì„ ì¦ê¸°ëŠ” íŠ¹ì´í•œ ì‚¬ëŒì…ë‹ˆë‹¤.</p>-->
<!--    </div>-->
<!--</div>-->

<!--<aside id="myPageAside">-->
<!--    <p class="mypagefont">ë§ˆì´í˜ì´ì§€</p>-->
<!--    <img th:src="@{/images/mypageimages/profile.png}" alt="í”„ë¡œí•„ ì‚¬ì§„" class="profile-photo" id="profilePhoto">-->
<!--    <p id="nickname" class="nicknamefont">ë‹‰ë„¤ì„ : <span th:text="${myPageDTO.userName}"></span></p>-->
<!--    <p id="rank" class="rankfont">ë“±ê¸‰: ì–´ì©Œêµ¬</p>-->
<!--    <p class="infofont" id="info">ê°œì¸ ì •ë³´</p>-->
<!--    <p class="activefont" id="active">í™œë™ ê¸°ë¡</p>-->
<!--    <p class="MBTIfont">MBTI</p>-->
<!--    <p class="logoutfont">ë¡œê·¸ì•„ì›ƒ</p>-->
<!--</aside>-->
<!--<div class="rankpopup" id="rank-popup">-->
<!--    <p class="scorefont">í™œë™ ì ìˆ˜ : </p>-->
<!--    <p class="nextfont">ë‹¤ìŒ ë“±ê¸‰ : </p>-->
<!--    <p class="needfont">í•„ìš” ì ìˆ˜ : </p>-->
<!--</div>-->

<!--<div class="modal-background" id="modal-background">-->
<!--    <div class="pwdpopup" id="pwd-popup">-->
<!--        <p class="pwdfont">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ë³¸ì¸ì„ì„ í™•ì¸í•´ ì£¼ì„¸ìš”!</p>-->
<!--        <div class="pwd-container">-->
<!--            <span class="pwdfont2">ë¹„ë°€ë²ˆí˜¸</span> <input type="password" id="pwdInput" placeholder="ë¹„ë°€ë²ˆí˜¸">-->
<!--            <span class="toggle-password" id="togglePassword">&#128065;</span>-->
<!--        </div>-->

<!--        <div class="popup-buttons">-->
<!--            <button id="closePopupBtn" class="cancle-btn">ì·¨ì†Œ</button>-->
<!--            <button id="submitPasswordBtn" class="confirm-btn">í™•ì¸</button>-->
<!--        </div>-->

<!--    </div>-->
<!--</div>-->
  
<main>
    <!--ë©”ì¸ 1í˜ì´ì§€-->
    <div class="main1">
        <div class="qickBtn">
            <!--í”Œë¡œíŒ… ë²„íŠ¼-->
            <img th:src="@{/images/main/folating-btn-dark.png}" id="light" class="tr" alt="í”Œë¡œíŒ… ë²„íŠ¼">
            <img th:src="@{/images/main/folating-btn-click-dark.png}" class="dn tr" id="dark" alt="í”Œë¡œíŒ… ë²„íŠ¼ í´ë¦­">
            <div class="clikbtn tr">
                <img th:src="@{/images/main/top-btn-dark.png}" class="dn" id="top" alt="íƒ‘ë²„íŠ¼">
                <img th:src="@{/images/main/light-btn-dark.png}" class="dn" id="mode" alt="í…Œë§ˆ ë³€ê²½">
                <img th:src="@{/images/main/test-btn-dark.png}" class="dn" id="test" alt="MBTI í…ŒìŠ¤íŠ¸">
            </div>

        </div>
        <div class="logo"><img th:src="@{/images/main/main-logo-dark.png}" alt="ë‚¨í˜¸ì • ë©”ì¸ ë¡œê³ "></div>
        <div class="subtitle"><img th:src="@{/images/main/main-subtitle-dark.png}" alt="ë‚¨ì´ ì´ì•¼ê¸° í•´ì£¼ëŠ” í˜¸ëŸ¬ì •ì›"></div>
        <img class="bg" th:src="@{/images/main/main-dark-bg.png}" alt="ë‹¤í¬ëª¨ë“œ ë©”ì¸í˜ì´ì§€ ë°°ê²½í™”ë©´">
        <div class="mainbox tr" id="mainbox"><p id="black">ë‚˜ì˜ ê³µí¬ MBTIëŠ”?</p></div>
    </div>
<img th:src="@{/images/main/main2-best.png}" id="gost">
    <div class="main2">
        <h2>ë² ìŠ¤íŠ¸ ì •ì›</h2>
        <img th:src="@{/images/main/main2-dark-bg.png}" alt="ë‚˜ë­‡ê°€ì§€">
        <div class="fristbest">
            <img th:src="@{/images/main/main2-img1.png}" alt="ë² ìŠ¤íŠ¸ ê²Œì‹œë¬¼ ì´ë¯¸ì§€1">
            <p th:text="${bestPosts[0].postTitle}" class="ellipsis"></p>
            <span class="multiline-ellipsis" th:text="${bestPosts[0].postContent}"> </span>
            <img th:src="@{/images/main/main2-img2.png}" alt="ë² ìŠ¤íŠ¸ ê²Œì‹œë¬¼ ì´ë¯¸ì§€2">
            <p th:text="${bestPosts[1].postTitle}" class="ellipsis"></p>
            <span class="multiline-ellipsis" th:text="${bestPosts[1].postContent}"> </span>
            <img th:src="@{/images/main/main2-img3.png}" alt="ë² ìŠ¤íŠ¸ ê²Œì‹œë¬¼ ì´ë¯¸ì§€3">
            <p th:text="${bestPosts[2].postTitle}" class="ellipsis"></p>
            <span class="multiline-ellipsis"  th:text="${bestPosts[2].postContent}">
            </span>
            <img th:src="@{/images/main/main2-img4.png}" alt="ë² ìŠ¤íŠ¸ ê²Œì‹œë¬¼ ì´ë¯¸ì§€4">
            <p th:text="${bestPosts[3].postTitle}" class="ellipsis"></p>
            <span class="multiline-ellipsis"   th:text="${bestPosts[3].postContent}">
            </span>
        </div>
    </div>

    <div class="main3">
        <img th:src="@{/images/main/main3-gost-hand-dark.png}" style="mix-blend-mode: screen" class="gosthand">
        <img th:src="@{/images/main/main-dark-bg3.png}" id="calendarbg">
        <img th:src="@{/images/main/main3-hand-dark.png}" id="hand" class="dn">
        <h1 id="monthTitle"></h1>
        <div id="calendar"></div>
        <button id="checkAttendanceBtn">ì¶œì„ ì²´í¬ í•˜ê¸°</button>
    </div>
</main>

<form th:action="@{/auth/logout}" method="post">
    <button type="submit">ë¡œê·¸ì•„ì›ƒ</button>
</form>

<footer>
    <div class="footer"><p>â“’ 2024 MergePing. All right reserved.  </p></div>
</footer>
<script>
    // JavaScriptë¡œ í† ê¸€ ê¸°ëŠ¥ ì¶”ê°€
    const mypageBtn = document.getElementById("mypageBtn");
    const myPageAside = document.getElementById("myPageAside");

    // ë²„íŠ¼ í´ë¦­ ì‹œ aside ì°½ í‘œì‹œ/ìˆ¨ê¹€ ì „í™˜
    mypageBtn.addEventListener("click", () => {
        if (myPageAside.classList.contains("show")) {
            // ë³´ì´ëŠ” ìƒíƒœë¼ë©´ ìˆ¨ê¸°ê¸°
            myPageAside.classList.remove("show");
            setTimeout(() => {
                myPageAside.style.display = "none"; // ì• ë‹ˆë©”ì´ì…˜ í›„ displayë¥¼ noneìœ¼ë¡œ
            }, 400); // transitionê³¼ ë™ì¼í•œ ì‹œê°„ ì„¤ì •
        } else {
            // ìˆ¨ê²¨ì§„ ìƒíƒœë¼ë©´ ë³´ì´ê²Œ í•˜ê¸°
            myPageAside.style.display = "block"; // ë¨¼ì € displayë¥¼ blockìœ¼ë¡œ ì„¤ì •
            setTimeout(() => {
                myPageAside.classList.add("show");
            }, 10); // ì•½ê°„ì˜ ì§€ì—° ì‹œê°„ í›„ì— show í´ë˜ìŠ¤ ì¶”ê°€
        }
    });

    const gradeElement = document.getElementById('rank');
    const popup = document.getElementById('rank-popup');

    gradeElement.addEventListener('mouseenter', () => {
        popup.style.display = 'block'; // íŒì—… í‘œì‹œ
    });

    gradeElement.addEventListener('mouseleave', () => {
        popup.style.display = 'none'; // íŒì—… ìˆ¨ê¸°ê¸°
    });

    const personalInfoBtn = document.getElementById('info');
    const passwordPopup = document.getElementById('pwd-popup');
    const closePopupBtn = document.getElementById('closePopupBtn');
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('pwdInput');
    const submitPasswordBtn = document.getElementById('submitPasswordBtn');
    const modal = document.querySelector('.modal-background');

    //ëª¨ë‹¬
    personalInfoBtn.addEventListener('click', () => {
        passwordPopup.style.display = 'block';// ë¹„ë°€ë²ˆí˜¸ íŒì—… í‘œì‹œ
        document.body.style.overflow = "hidden"; // ìŠ¤í¬ë¡¤ ë¹„í™œì„±í™”
    });

    personalInfoBtn.addEventListener("click", () => {
        modal.style.display = "flex";
        if (modal.style.display === "flex") {
            closePopupBtn.addEventListener("click", () => {
                modal.style.display = "none";
                document.body.style.overflow = "auto"; // ìŠ¤í¬ë¡¤ ë‹¤ì‹œ í™œì„±í™”
            });
        }
    });


    // ë¹„ë°€ë²ˆí˜¸ ë³´ê¸°/ìˆ¨ê¸°ê¸° í† ê¸€
    togglePassword.addEventListener('click', () => {
        const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
        passwordInput.setAttribute('type', type);
        togglePassword.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ'; // ì•„ì´ì½˜ ë³€ê²½
    });
    // í™•ì¸ ë²„íŠ¼ í´ë¦­ ì‹œ ë‹¤ë¥¸ URLë¡œ ì´ë™
    submitPasswordBtn.addEventListener('click', () => {
        // URLì„ ì›í•˜ëŠ” ì£¼ì†Œë¡œ ë³€ê²½í•˜ì„¸ìš”
        location.href = '/userinfo';
    });

    const activebtn = document.getElementById('active');
    activebtn.addEventListener('click', () => {
        // URLì„ ì›í•˜ëŠ” ì£¼ì†Œë¡œ ë³€ê²½í•˜ì„¸ìš”
        location.href = '/useractive';
    });

    const mbtiButton = document.getElementById("mbtiButton");
    const mbtiContent = document.getElementById("mbtiContent");
    const myMBTI = document.getElementById("myMBTI");
    const mbtiPopup = document.getElementById("mbtiPopup");

    // MBTI ë²„íŠ¼ í´ë¦­ ì‹œ MBTI ì½˜í…ì¸  í‘œì‹œ
    mbtiButton.addEventListener("click", () => {
        // ì½˜í…ì¸  í‘œì‹œ ìƒíƒœë¥¼ í† ê¸€
        mbtiContent.style.display = mbtiContent.style.display === "none" ? "block" : "none";
    });

    // ë‚˜ì˜ MBTI ìš”ì†Œì— ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ íŒì—… í‘œì‹œ
    myMBTI.addEventListener("mouseenter", () => {
        mbtiPopup.style.display = "block";
    });

    // ë‚˜ì˜ MBTI ìš”ì†Œì—ì„œ ë§ˆìš°ìŠ¤ ë‚˜ê°”ì„ ë•Œ íŒì—… ìˆ¨ê¸°ê¸°
    myMBTI.addEventListener("mouseleave", () => {
        mbtiPopup.style.display = "none";
    });



</script>

<script>
    const floatBtn1 = document.getElementById("light");
    const floatBtn2 = document.getElementById("dark");
    const qickMenu1 = document.getElementById("top");
    const qickMenu2 = document.getElementById("mode");
    const qickMenu3 = document.getElementById("test");

    <!--í”Œë¡œíŒ… ë²„íŠ¼ í´ë¦­ì‹œ í€µë©”ë‰´ display block-->
    floatBtn1.addEventListener('click', function () {
        floatBtn1.classList.toggle('dn');
        floatBtn2.classList.toggle('dn');
        qickMenu1.classList.toggle('dn');
        qickMenu2.classList.toggle('dn');
        qickMenu3.classList.toggle('dn');
    });


    <!--í”Œë¡œíŒ… ë²„íŠ¼ í´ë¦­ì‹œ í€µë©”ë‰´ display none-->
    floatBtn2.addEventListener('click',function (){
        floatBtn1.classList.toggle('dn');
        floatBtn2.classList.toggle('dn');
        qickMenu1.classList.toggle('dn');
        qickMenu2.classList.toggle('dn');
        qickMenu3.classList.toggle('dn');

    });

    <!--top ë²„íŠ¼ í´ë¦­ì‹œ í™”ë©´ ìƒë‹¨ì´ë™-->
    setTimeout(function() {
        qickMenu1.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }, 3000);

</script>
<script>
    const mainLink = document.getElementById("mainbox");
    const black = document.getElementById("black");
    mainLink.addEventListener('mouseover',function (){
        mainLink.style.backgroundColor="#4A7236";
        mainLink.style.border="1px solid white";
        black.style.color="#000";
    });
    mainLink.addEventListener('mouseout',function (){
        mainLink.style.backgroundColor="#0E2913";
        mainLink.style.border="none";
        black.style.color="#FFF";
    });

</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const calendar = document.getElementById('calendar');
        const checkAttendanceBtn = document.getElementById('checkAttendanceBtn');
        const monthTitle = document.getElementById('monthTitle');
        const date = new Date();
        const month = date.getMonth();
        const year = date.getFullYear();
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const today = date.getDate();
        const monthNames = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"];
        const dayNames = ["ì¼ìš”ì¼", "ì›”ìš”ì¼", "í™”ìš”ì¼", "ìˆ˜ìš”ì¼", "ëª©ìš”ì¼", "ê¸ˆìš”ì¼", "í† ìš”ì¼"];

        // ì›” í‘œì‹œ
        monthTitle.textContent = monthNames[month];

        // ìš”ì¼ í—¤ë” ì¶”ê°€
        dayNames.forEach(day => {
            const dayHeader = document.createElement('div');
            dayHeader.classList.add('day-header');
            dayHeader.textContent = day;
            calendar.appendChild(dayHeader);
        });

        // ì²« ë²ˆì§¸ ë‚ ì˜ ìš”ì¼ì— ë§ì¶”ì–´ ë¹ˆ ì¹¸ ì¶”ê°€
        const firstDayOfMonth = new Date(year, month, 1).getDay();
        for (let i = 0; i < firstDayOfMonth; i++) {
            const emptyDiv = document.createElement('div');
            calendar.appendChild(emptyDiv);
        }

        // ë‹¬ë ¥ ë§Œë“¤ê¸°
        for (let i = 1; i <= daysInMonth; i++) {
            const dayDiv = document.createElement('div');
            dayDiv.classList.add('day-cell');
            dayDiv.textContent = i;
            dayDiv.id = `day-${i}`;
            calendar.appendChild(dayDiv);
        }

        // ì¶œì„ ì²´í¬ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        checkAttendanceBtn.addEventListener('click', function() {
            document.getElementById(`day-${today}`).classList.add('checked');
            document.getElementById("checkAttendanceBtn").style.backgroundColor="#0E2813";
            document.getElementById("checkAttendanceBtn").style.width="560px";
            document.getElementById("checkAttendanceBtn").style.color="#C0CBBC";
            document.getElementById("checkAttendanceBtn").style.left="400px";
            document.getElementById("checkAttendanceBtn").textContent="ì¶œì„ì²´í¬ë¥¼ ì™„ë£Œ í–ˆìŠµë‹ˆë‹¤";
        });
        checkAttendanceBtn.addEventListener('click', function() {
            const todayDiv = document.getElementById(`day-${today}`);
            todayDiv.classList.add('checked');

            document.getElementById("hand").classList.remove("dn");

            if (!todayDiv.querySelector('img')) {
                const img = document.createElement('img');
                img.src = '/images/main/check mark.png';
                todayDiv.appendChild(img);
            }
        });
    });
</script>
<script>
    function update(e){
        var x = e.clientX || e.touches[0].clientX
        var y = e.clientY || e.touches[0].clientY

        document.documentElement.style.setProperty('--cursorX', x + 'px')
        document.documentElement.style.setProperty('--cursorY', y + 'px')}

    document.addEventListener('mousemove',update)
    document.addEventListener('touchmove',update)
</script>

<!--ë¼ì´íŠ¸ ëª¨ë“œ-->
</body>
</html>