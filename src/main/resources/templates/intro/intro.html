<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>소개</title>
    <link rel="stylesheet" th:href="@{/css/reset.css}">
    <link rel="stylesheet" id="theme-stylesheet" th:href="@{/css/intro/intro-light.css}">
    <style>

    </style>
</head>
<body>

<header>
    <nav>
        <!--네비바-->
        <img th:src="@{/images/main/nav-logo-light.png}" alt="상단 로고" onclick="location.href='/'" id="nav-logo">
        <span onclick="location.href='/intro'">소개</span>
        <span onclick="location.href='/notice'">공지사항</span>
        <span onclick="location.href='/post'">게시판</span>
        <span onclick="location.href='/mbti'">MBTI 검사</span>
        <span id="mypageBtn">마이페이지</span>
        <form th:action="@{/auth/logout}" method="post">
            <button id="logoutNav" type="submit">로그아웃</button>
        </form>
        <span onclick="location.href='/auth/signupterms'">회원가입</span>
    </nav>

</header>
<main>
    <div class="qickBtn">
        <!--플로팅 버튼-->
        <img th:src="@{/images/main/folating-btn-light.png}" id="light" class="tr" alt="플로팅 버튼">
        <img th:src="@{/images/main/folating-btn-click-light.png}" class="dn tr" id="dark" alt="플로팅 버튼 클릭">
        <div class="clikbtn tr">
            <img th:src="@{/images/main/top-btn-light.png}" class="dn" id="top" alt="탑버튼">
            <img th:src="@{/images/main/light-btn-light.png}" class="dn" id="mode" onclick="toggleMode()" alt="테마 변경">
            <img th:src="@{/images/main/test-btn-light.png}" class="dn" id="test" onclick="location.href='/mbti'" alt="MBTI 테스트">
        </div>
    </div>
<img th:src="@{/images/intro/intro-light-bg.png}" id="bg">
<img th:src="@{/images/intro/intro-logo-light.png}" id="mainlogo">

    <p id="introduce">[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내
        [공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내
        [공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내
        [공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내</p>

    <p id="introduce2">[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월
        [공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월 서비스 오픈 안내[공지] 2024년 11월</p>

    <div id="btn" onclick="location.href='/'"><p>확인</p></div>

</main>

<footer>
    <div class="footer"><p>ⓒ 2024 MergePing. All right reserved.  </p></div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('intro-theme') || '/css/intro/intro-light.css';
        document.getElementById('theme-stylesheet').setAttribute('href', savedTheme);
        document.getElementById('theme-stylesheet').addEventListener('load', () => {
            updateImages(savedTheme);

        });

    });

        function updateImages(theme) {
            const cacheBuster = `?v=${new Date().getTime()}`;

            const navLogo = document.getElementById('nav-logo');
            if (navLogo) {
                navLogo.setAttribute('src', theme.includes('dark') ? `/images/main/nav-logo-dark.png${cacheBuster}` : `/images/main/nav-logo-light.png${cacheBuster}`);
            }
            const light = document.getElementById('light');
            if (light) {
                light.setAttribute('src', theme.includes('dark') ? `/images/main/folating-btn-dark.png${cacheBuster}` : `/images/main/folating-btn-light.png${cacheBuster}`);
            }
            const dark = document.getElementById('dark');
            if (dark) {
                dark.setAttribute('src', theme.includes('dark') ? `/images/main/folating-btn-click-dark.png${cacheBuster}` : `/images/main/folating-btn-click-light.png${cacheBuster}`);
            }
            const top = document.getElementById('top');
            if (top) {
                top.setAttribute('src', theme.includes('dark') ? `/images/main/top-btn-dark.png${cacheBuster}` : `/images/main/top-btn-light.png${cacheBuster}`);
            }
            const mode = document.getElementById('mode');
            if (mode) {
                mode.setAttribute('src', theme.includes('dark') ? `/images/main/light-btn-dark.png${cacheBuster}` : `/images/main/light-btn-light.png${cacheBuster}`);
            }
            const test = document.getElementById('test');
            if (test) {
                test.setAttribute('src', theme.includes('dark') ? `/images/main/test-btn-dark.png${cacheBuster}` : `/images/main/test-btn-light.png${cacheBuster}`);
            }
            const bg = document.getElementById('bg');
            if (bg) {
                bg.setAttribute('src', theme.includes('dark') ? `/images/intro/intro-dark-bg.png${cacheBuster}` : `/images/intro/intro-light-bg.png${cacheBuster}`);
            }
            const mainlogo = document.getElementById('mainlogo');
            if (mainlogo) {
                mainlogo.setAttribute('src', theme.includes('dark') ? `/images/intro/intro-logo-dark.png${cacheBuster}` : `/images/intro/intro-logo-light.png${cacheBuster}`);
            }
        }

        function toggleMode() {
            const stylesheet = document.getElementById('theme-stylesheet');
            const currentTheme = stylesheet.getAttribute('href');
            let newTheme = '';

            // 여기서 light를 lightmode로 변경해야 합니다.
            if (currentTheme.includes('intro-light.css')) {
                newTheme = '/css/intro/intro-dark.css';
            } else {
                newTheme = '/css/intro/intro-light.css';
            }

            stylesheet.setAttribute('href', newTheme);
            localStorage.setItem('intro-theme', newTheme);

            // 이미지 업데이트
            updateImages(newTheme);
        }

</script>
<script>
    const floatBtn1 = document.getElementById("light");
    const floatBtn2 = document.getElementById("dark");
    const qickMenu1 =document.getElementById("top");
    const qickMenu2 =document.getElementById("mode");
    const qickMenu3 =document.getElementById("test");

    <!--플로팅 버튼 클릭시 퀵메뉴 display block-->
    floatBtn1.addEventListener('click',function (){
        floatBtn1.classList.toggle('dn');
        floatBtn2.classList.toggle('dn');
        qickMenu1.classList.toggle('dn');
        qickMenu2.classList.toggle('dn');
        qickMenu3.classList.toggle('dn');
    });


    <!--플로팅 버튼 클릭시 퀵메뉴 display none-->
    floatBtn2.addEventListener('click',function (){
        floatBtn1.classList.toggle('dn');
        floatBtn2.classList.toggle('dn');
        qickMenu1.classList.toggle('dn');
        qickMenu2.classList.toggle('dn');
        qickMenu3.classList.toggle('dn');

    });

    <!--top 버튼 클릭시 화면 상단이동-->
    setTimeout(function() {
        qickMenu1.addEventListener('click', function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
    }, 3000);

</script>
<script>
    function update(e){
        var x = e.clientX || e.touches[0].clientX
        var y = e.clientY || e.touches[0].clientY

        document.documentElement.style.setProperty('--cursorX', x + 'px')
        document.documentElement.style.setProperty('--cursorY', y + 'px')}

    document.addEventListener('mousemove',update)
    document.addEventListener('touchmove',update)
</script>
</body>
</html>