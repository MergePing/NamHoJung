<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>아이디 찾기 인증</title>
</head>
<body>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>아이디 찾기</title>
    <link rel="stylesheet" href="/static/css/search.css">
    <link rel="stylesheet" href="/static/css/reset.css">
</head>
<body>
<div class="resolution">
    <img class="background01" src="/static/images/login/background01.png" alt="배경">
    <img class="background02" src="/static/images/login/background02.png" alt="배경">
    <nav>
        <!--네비바-->
        <img th:src="@{/images/main/nav-logo-dark.png}" alt="상단 로고" onclick="location.href='/main'">
        <span onclick="window.location.href='/intro/intro.html'">소개</span>
        <span onclick="window.location.href='/notice/notice.html'">공지사항</span>
        <span>게시판</span>
        <span>MBTI 검사</span>
        <span>마이페이지</span>
        <span>로그인</span>
        <span>회원가입</span>
    </nav>
    <div class="searchUiBox"></div>
    <p class="searchGuide" style="left:830px">아이디 찾기</p>
    <p class="searchGuide2" style="left:760px">본인 확인 인증이 필요합니다.</p>
    <input type="text" class="phoneNumber" name="phone" maxlength="13" placeholder="휴대폰 번호를 입력해주세요." oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" minlength="13">
    <input type="text" class="authNumber" name="authNumber" maxlength="6" placeholder="인증번호를 입력해주세요." oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*?)\..*/g, '$1');" minlength="6">
    <button type="submit" class="next">확인</button>

    <!-- 인증 모달 -->
    <div class="modalBlur">
        <div class="modalGuide">
            <h1 style="color:white;">고객님의 아이디는<br>@{ username } 입니다.</h1>
            <button type="submit" class="loginButton">로그인</button>
        </div>
    </div>
</div>
<script>
    // 휴대폰 번호
    function autoHypenPhone(str){
        str = str.replace(/[^0-9]/g, '')
        var tmp = '';
        if( str.length < 4){
            return str;
        }else if(str.length < 7){
            tmp += str.substr(0, 3);
            tmp += '-';
            tmp += str.substr(3);
            return tmp;
        }else if(str.length < 11){
            tmp += str.substr(0, 3);
            tmp += '-';
            tmp += str.substr(3, 3);
            tmp += '-';
            tmp += str.substr(6);
            return tmp;
        }else{
            tmp += str.substr(0, 3);
            tmp += '-';
            tmp += str.substr(3, 4);
            tmp += '-';
            tmp += str.substr(7);
            return tmp;
        }
        return str;
    }

    var phone = document.querySelector('.phoneNumber');
    phone.onkeyup = function(event){
        event = event || window.event;
        var _val = this.value.trim();
        this.value = autoHypenPhone(_val) ;
    }

    // 아이디 찾았을 때
    // 모달창 (기본)
    const modal = document.querySelector('.modalBlur');
    const btnOpenModal=document.querySelector('.next');
    const btnCloseModal=document.querySelector('.loginButton');

    btnOpenModal.addEventListener("click", ()=>{
        modal.style.display="flex";
        if (modal.style.display === "flex") {
            btnCloseModal.addEventListener("click", () => {
                setTimeout(() => {
                    location.href = "`main`";
                }, 500);
            });
        }
    });

</script>
</body>
</html>
</body>
</html>